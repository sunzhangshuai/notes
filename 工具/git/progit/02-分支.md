# 分支

- 在很多版本控制系统中，这是一个略微低效的过程——常常需要完全创建一个源代码目录的副本。

- Git 处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。 
  - Git 的分支实质上仅是包含所指对象校验和的文件，所以它的创建和销毁都异常高效。 
  - 创建一个新分支就相当于往一个文件中写入 41 个字节（40 个字符和 1 个换行符）。
- Git 的分支，其实本质上仅仅是指向提交对象的可变指针。 
- Git 的默认分支名字是 **master**。
- 在多次提交操作之后，你其实已经有一个指向最后那个提交对象的 **master** 分支。
- **master** 分支会在每次提交时自动向前移动。
- **Git** 的 **master** 分支并不是一个特殊分支。 它就跟其它分支完全没有区别。 
- **Git** 有一个名为 **HEAD** 的特殊指针，指向当前所在的本地分支。「**当前分支的别名**」。

![分支](imgs/分支.png)

## 分支创建

```shell
git branch <分支名>
```

在当前所在的提交对象上创建一个指针。

## 分支切换

- 分支切换会改变你工作目录中的文件。
- 如果是切换到一个较旧的分支，你的工作目录会恢复到该分支最后一次提交时的样子。 
- 如果 Git 不能干净利落地完成这个任 务，将禁止切换分支。

### 切换到已经存在的分支

```shell
git checkout <分支名>
```

### 切换到不存在的分支

```shell
git checkout -b <分支名>
# 相当于
git branch <分支名>
git checkout <分支名>
```

## 分支合并